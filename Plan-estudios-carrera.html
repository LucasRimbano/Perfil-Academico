<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Perfil Académico y Plan de Estudios</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="images/favicon.ico" />

  <!--css-->
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
     /*container datos*/
    .profile-container {
      background: #fff;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 400px;
      margin: auto;
      text-align: center;
    }

    .profile-container img.logo {
      width: 80px;
      margin-bottom: 1rem;
    }

    .profile-container h1 {
      margin-bottom: 1.5rem;
      font-size: 1.8rem;
      color: #333;
    }

    .profile-info {
      text-align: left;
      margin-bottom: 1rem;
    }

    .profile-info label {
      font-weight: bold;
      display: inline-block;
      width: 130px;
    }

    .profile-info span {
      color: #555;
    }

    #btn-logout {
      margin-top: 1.5rem;
      padding: 0.6rem 1.2rem;
      border: none;
      background: #0078d4;
      color: #fff;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s;
    }

    #btn-logout:hover {
      background: #005a9e;
    }
    /*tabla plan estudios*/
    .plan-container {
      margin-top: -30px;
      display: flex;
      gap: 20px;
      justify-content: center;
      align-items: flex-start;
      flex-wrap: wrap;
      max-width: 90vw;
      margin-left: auto;
      margin-right: auto;
    }


    .panel-inferior, .right-panel {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      width: 100%;
      max-width: 850px;
      max-height: 400px;
      overflow: auto;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .panel-inferior::-webkit-scrollbar {
      width: 8px;
    }
    
    .panel-inferior::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    
    .panel-inferior::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }
    
    .panel-inferior::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }

    th, td {
      padding: 8px;
      border: 1px solid #ccc;
      text-align: left;
    }

    th {
      background-color: #e6f0ff;
    }
    td input[type="number"],
    td select[name="correlativas"] {
      display: block;
      margin: 0 auto;
      text-align: center;
    }
    
    /*lineas de la tabla */
    input[type="text"], select {
      width: 100%;
      padding: 5px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }

    @media (max-width: 768px) {
      .panel-inferior, .right-panel {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <!-- Perfil Académico -->
  <div class="profile-container">
    <img src="images/unsampng.png" alt="Logo UNSAM" class="logo" />
    <h1>Perfil Académico</h1>

    <div class="profile-info">
      <label>Nombre y Apellido:</label>
      <span id="perfil-nombre"></span>
    </div>

    <div class="profile-info">
      <label>DNI:</label>
      <span id="perfil-dni"></span>
    </div>

    <div class="profile-info">
      <label>Email:</label>
      <span id="perfil-email"></span>
    </div>

    <div class="profile-info">
      <label>Carrera:</label>
      <span id="perfil-carrera"></span>
    </div>

    <button id="btn-logout">Cerrar sesión</button>
  </div>

  <!-- Plan de Estudios -->
  <div class="plan-container">
    <div class="panel-inferior">
      <h2>Plan de Estudios</h2>
      <table id="editable-table">
        <thead>
          <tr>
            <th>Actividad</th>
            <th>Tipo</th>
            <th>Año</th>
            <th>Periodo</th>
            <th>Nota</th>
            <th>Origen</th>
            <th>Correlativas</th>
          </tr>
        </thead>

        <tbody>
          <!-- Se llena con JS -->
        </tbody>
      </table>
    </div>
      <!--table right-->
     <div class="right-panel">
      <h2>Cargar Notas - Tu Carrera</h2>
      <table id="editable-table">
        <thead>
          <tr>
            <th>Actividad</th>
            <th>Año</th>
            <th>Periodo</th>
            <th>Nota</th>
          </tr>
        </thead>
        <tbody>
          <!-- Se llena con JS -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const profileJSON = localStorage.getItem('userProfile');
      if (!profileJSON) return;

      const { name, dni, email, carrera } = JSON.parse(profileJSON);

      // Mostrar perfil
      document.getElementById('perfil-nombre').textContent = name;
      document.getElementById('perfil-dni').textContent = dni;
      document.getElementById('perfil-email').textContent = email;
      document.getElementById('perfil-carrera').textContent = carrera;

      // Plan de estudios
      const materiasPorCarrera = {
  "Programacion Informatica": [
    { actividad: "MATEMÁTICA I (MA-1C10071)", tipo: "Materia", año: 1, periodo: "1er. Cuatrimestre" },
    { actividad: "LABORATORIO DE COMPUTACIÓN I (MA-1C50051)", tipo: "Materia", año: 1, periodo: "1er. Cuatrimestre" },
    { actividad: "ELECTRICIDAD Y MAGNETISMO (MA-1C20071)", tipo: "Materia", año: 1, periodo: "1er. Cuatrimestre" },
    { actividad: "LABORATORIO DE COMPUTACIÓN II (MA-1C50052)", tipo: "Materia", año: 1, periodo: "1er. Cuatrimestre" },
    { actividad: "SISTEMAS DE PROCESAMIENTO DE DATOS (MA-1C50053)", tipo: "Materia", año: 1, periodo: "2do. Cuatrimestre" },
    { actividad: "MATEMÁTICA II (MA-1C10072)", tipo: "Materia", año: 1, periodo: "2do. Cuatrimestre" },
    { actividad: "ALGORITMOS I (MA-1C5AL54)", tipo: "Materia", año: 2, periodo: "1er. Cuatrimestre" },
    { actividad: "MATEMÁTICA III (MA-1C50055)", tipo: "Materia", año: 2, periodo: "1er. Cuatrimestre" },
    { actividad: "CONCEPTOS DE ARQUITECTURAS Y SISTEMAS OPERATIVOS (MA-1C50056)", tipo: "Materia", año: 2, periodo: "1er. Cuatrimestre" },
    { actividad: "ALGORITMOS II (MA-1AQ0010)", tipo: "Materia", año: 2, periodo: ". Cuatrimestre" },
    { actividad: "REDES LOCALES (MA-1AQ0011)", tipo: "Materia", año: 2, periodo: "2do. Cuatrimestre" },
    { actividad: "MÉTODOS NUMÉRICOS (MA-1AQ0012)", tipo: "Materia", año: 2, periodo: "2do. Cuatrimestre" },
    { actividad: "ALGORITMOS III (MA-1AQ0013)", tipo: "Materia", año: 3, periodo: "1er. Cuatrimestre" },
    { actividad: "BASES DE DATOS (MA-1AQ0014)", tipo: "Materia", año: 3, periodo: "1er. Cuatrimestre" },
    { actividad: "SEMINARIO DE PROGRAMACIÓN CONCURRENTE, PARALELA Y DISTRIBUIDA (MA-1AQ0015)", tipo: "Materia", año: 3, periodo: "1er. Cuatrimestre" },
    { actividad: "PROGRAMACIÓN CON HERRAMIENTAS MODERNAS (MA-1AQ0016)", tipo: "Materia", año: 3, periodo: "2do. Cuatrimestre" },
    { actividad: "PROYECTOS DE SOFTWARE (MA-1AQ0017)", tipo: "Materia", año: 3, periodo: "2do. Cuatrimestre" },
    { actividad: "PARADIGMAS DE PROGRAMACIÓN (MA-1AQ0040)", tipo: "Materia", año: 3, periodo: "2do. Cuatrimestre" }
  ],
  "Diseño": [
    { actividad: "DISEÑO I", tipo: "Materia", año: 1, periodo: "1er. Cuatrimestre" },
    { actividad: "DISEÑO II", tipo: "Materia", año: 2, periodo: ". Cuatrimestre" }
  ]
};

      

      const materias = materiasPorCarrera[carrera] || [];
      const tbody = document.querySelector("#editable-table tbody");

      if (materias.length === 0) {
        tbody.innerHTML = `<tr><td colspan="5">No se encontraron materias para la carrera: ${carrera || "No definida"}</td></tr>`;
        return;
      }

      materias.forEach(materia => {
        const row = document.createElement("tr");
        row.innerHTML = ` 
          <td>${materia.actividad}</td>
          <td>${materia.tipo}</td>
          <td>${materia.año}</td>
          <td>${materia.periodo}</td>
          <td><input type="text" name="nota" placeholder="" style="width: 50px;"></td>
          <td>
            <select name="origen" style="width: 105px;">
              <option value=""></option>
              <option value="Regularidad">Regularidad</option>
              <option value="Promoción">Promoción</option>
            </select>
          </td> 
          <td>
            <select name="correlativas">
               <option value=""></option>
               <option value="Sí">Sí</option>
               <option value="No">No</option>
            </select>
          </td>`;
           
        tbody.appendChild(row);
      });
    });

    // Botón cerrar sesión
    document.getElementById('btn-logout')?.addEventListener('click', () => {
      localStorage.removeItem('userProfile');
      window.location.href = 'index.html';
    });
  </script>
  <div>
    <footer class="footer">
      <p>© Universidad Nacional de San Martín - 2025. Todos los derechos reservados. Desarrollado por Lucas Rimbano y Lucas Barcos.</p>
    </footer>
  </div>
</body>
</html>
